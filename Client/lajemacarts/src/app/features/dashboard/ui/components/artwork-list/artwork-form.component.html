<form [formGroup]="artworkForm" (ngSubmit)="submitForm()">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Informations Générales</mat-card-title>
    </mat-card-header>
    <mat-card-content class="card-grid">
      <mat-form-field>
        <mat-label>Nom de l'œuvre</mat-label>
        <input matInput formControlName="name">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Type d'œuvre</mat-label>
        <mat-select formControlName="artworkType">
          @for (type of artworktypes(); track type) {
            <mat-option [value]="type">{{ type }}</mat-option>
          }
        </mat-select>
      </mat-form-field>

      <mat-form-field class="full-width">
        <mat-label>Description</mat-label>
        <textarea matInput formControlName="description" rows="4"></textarea>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Matériaux</mat-label>
        <mat-select formControlName="materialIds" multiple>
          @for (material of materials(); track material.id) {
            <mat-option [value]="material.id">{{ material.name }}</mat-option>
          }
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Année de création</mat-label>
        <input matInput type="number" formControlName="creationYear">
      </mat-form-field>
    </mat-card-content>
  </mat-card>

  <mat-card formGroupName="dimensions">
    <mat-card-header>
      <mat-card-title>Dimensions & Poids</mat-card-title>
    </mat-card-header>
    <mat-card-content class="card-grid">
      <mat-form-field>
        <mat-label>Longueur</mat-label>
        <input matInput type="number" formControlName="dimL">
      </mat-form-field>
      <mat-form-field>
        <mat-label>Largeur</mat-label>
        <input matInput type="number" formControlName="dimW">
      </mat-form-field>
      <mat-form-field>
        <mat-label>Hauteur</mat-label>
        <input matInput type="number" formControlName="dimH">
      </mat-form-field>
      <mat-form-field>
        <mat-label>Unité</mat-label>
        <mat-select formControlName="dimUnit">
          @for (unit of dimensionUnits; track unit) {
            <mat-option [value]="unit">{{ unit }}</mat-option>
          }
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Catégorie de poids</mat-label>
        <mat-select formControlName="weightCategory">
          @for (cat of weightCategories; track cat) {
            <mat-option [value]="cat">{{ cat }}</mat-option>
          }
        </mat-select>
      </mat-form-field>
    </mat-card-content>
  </mat-card>

  <mat-card>
    <mat-card-header>
      <mat-card-title>Prix</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-form-field>
        <mat-label>Prix (€)</mat-label>
        <input matInput type="number" formControlName="price">
      </mat-form-field>
    </mat-card-content>
  </mat-card>

  <div class="form-actions">
    <button mat-stroked-button type="button" (click)="cancel()">Annuler</button>
    <button mat-flat-button color="primary" type="submit" [disabled]="artworkForm.invalid">
      Enregistrer
    </button>
  </div>
</form>
